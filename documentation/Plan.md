# План автоматизации тестирования веб-формы сервиса покупки туров.

# Задача:
Необходимо провести автоматизированное тестирование комплексного web-сервиса по покупке тура в "Марракэш".
Web-сервис предлагает купить тур по определённой цене с помощью двух способов:

* Обычная оплата по дебетовой карте
* Выдача кредита по данным банковской карты

Переход к способу "Обычная оплата по дебетовой карте" осуществляется после нажатия на кнопку "Купить".
Переход к способу "Выдача кредита по данным банковской карты" осуществляется после нажатия на кнопку "Купить в кредит".

**Примечание:** Само приложение не обрабатывает данные по картам, а пересылает их банковским сервисам:

* сервису платежей (Payment Gate)
* кредитному сервису (Credit Gate)

### Валидные значения формы оплаты:

Валидными значениями формы оплаты являются:

* Поле "Номер карты": 16 символов, только цифры;
* Поле "Месяц": 2 символа, только цифры от 1 до 12 (если указывается число от 1 до 9, то перед ним, необходимо добавить ноль - "01" );
* Поле "Год": 2 символа, только цифры. Значение не должно быть меньше значения текущего года;
* Поле "Владелец": только буквы латинского алфавита;
* Поле "CVC/CVV": 3 символа, только цифры.

### Тестовые данные:

Для тестирования предоставлены следующие тестовые данные:

* Банковская карта (далее "карта"), для оплаты с номером "4444 4444 4444 4441", статус "APPROVED"
* Банковская карта (далее "карта"), для оплаты с номером "4444 4444 4444 4442", статус "DECLINED"

### Перечень автоматизируемых сценариев:

#### Позитивные сценарии:
1. Покупка тура с использованием валидной карты с достаточным количеством средств на счету.
2. Покупка в кредит тура с использованием валидной карты с достаточным количеством средств на счету.
3. Покупка тура с использованием валидной карты с недостаточным количеством средств на счету.
4. Покупка тура в кредит с использованием валидной карты с недостаточным количеством средств на счету.



#### Негативные сценарии:
1. Поле «Номер карты»
   * Поле остается пустым, остальные поля заполняются валидными данными.
   * В поле введен невалидный номер карты, остальные поля заполняются валидными данными.
   * В поле введен набор из 15 цифр, остальные поля заполняются валидными данными.

2. Поле «Месяц»
   * Поле остается пустым, остальные поля заполняются валидными данными.
   * В поле введен 0, остальные поля заполняются валидными данными.
   * В поле вводится число более 12, остальные поля заполняются валидными данными.

3. Поле «Год»
   * Поле остается пустым, остальные поля заполняются валидными данными.
   * В поле введена одна цифра, остальные поля заполняются валидными данными.
   * В поле введено истекший год, остальные поля заполняются валидными данными.

4. Поле «Владелец»
   * Поле остается пустым, остальные поля заполняются валидными данными.
   * В поле вводится имя и фамилия кириллицей, остальные поля заполняются валидными данными.
   * В поле вводится только имя латиницей, остальные поля заполняются валидными данными.
   * В поле вводятся цифры, остальные поля заполняются валидными данными.

5. Поле «CVV»
   * Поле остается пустым, остальные поля заполняются валидными данными.
   * В поле вводится две цифры, остальные поля заполняются валидными данными.
   * В поле вводится одна цифра, остальные поля заполняются валидными данными.
   * В поле вводится 000, остальные поля заполняются валидными данными.

6. Все поля остаются пустыми.


### Перечень используемых инструментов с обоснованием выбора
* Java 11 – один из самых популярных языков программирования.
* IntelliJ IDEA Community edition - интегрированная среда разработки для создания проекта с авто-тестами.
* Gradle - система для автоматической сборки проекта и подключения необходимых плагинов и зависимостей.
* JUnit - библиотека объектов для модульного тестирования.
* Faker - библиотека для генерации тестовых данных.
* Selenide - фреймворк для автоматизированного тестирования веб-приложения.
* Docker - платформа для работы с тестируемым приложением, СУБД и симулятором банковских сервисов.
* Allure - фреймворк для генерации подробных отчётов о результатах тестирования.
* GIT -системы управления версиями проекта.
* Git Hub - онлайн-сервис, позволяющий хранить код в удаленном публичном репозитории.

## Перечень и описание возможных рисков при автоматизации
* Отсутствие документации и ТЗ приводит к формированию ожидаемого результата на основании здравого смысла и анализа
  подобных банковских приложений, что может оказаться ошибочным.
* Использование захардкоженных данных может привести к необнаружению ошибок при работе реального пользователя с сервисом.
* Cложность настройки окружения. Для работы приложения нужно, помимо двух разных баз данных (MySQL, PostgreSQL), 
  развернуть симулятор платежной системы. Нужно разобраться с тем как он работает, 
  как взаимодействует с нашими БД и ОС. 
  Поэтому в ходе настройки окружения могут возникнуть сложности, требующие дополнительных временных затрат.
* Могут возникнуть сложности с поиском элементов на странице (неуникальные идентификаторы).
* Комплексный подход к тестированию. На занатиях мы тестировали, в основном, какие-то определенные функциональности, 
  в данном случае нужно протестировать приложение комплексно, при этом в приложении много багов. 
  Потребуется больше времени на дополнительные проверки и оформление баг-репортов.


### Интервальная оценка с учётом рисков
* Написание тест-плана автоматизации: 4 часа
* Подготовка окружения, написание авто-тестов: 6 часов
* Написание отчета по итогам тестирования, оформление issues: 8 часов
* Подготовка отчета по итогом автоматизации: 3 часа
### План сдачи работ
* Написание тест-плана автоматизации: 10.06.2021
* Подготовка окружения, написание авто-тестов: 15.06.2021
* Написание отчета по итогам тестирования, оформление issues: 20.06.2021
* Написание отчета по итогам  автоматизации: 23.06.2021
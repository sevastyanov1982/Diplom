# План автоматизации тестирования веб-формы сервиса покупки туров.

# Задача:
Необходимо провести автоматизированное тестирование комплексного web-сервиса по покупке тура в "Марракэш".
Web-сервис предлагает купить тур по определённой цене с помощью двух способов:

* Обычная оплата по дебетовой карте
* Выдача кредита по данным банковской карты

Переход к способу "Обычная оплата по дебетовой карте" осуществляется после нажатия на кнопку "Купить".
Переход к способу "Выдача кредита по данным банковской карты" осуществляется после нажатия на кнопку "Купить в кредит".

**Примечание:** Само приложение не обрабатывает данные по картам, а пересылает их банковским сервисам:

* сервису платежей (Payment Gate)
* кредитному сервису (Credit Gate)

### Валидные значения формы оплаты:

Валидными значениями формы оплаты являются:

* Поле "Номер карты": 16 символов, только цифры
* Поле "Месяц": 2 символа, только цифры от 1 до 12 (если указывается число от 1 до 9, то перед ним, необходимо добавить ноль - "01" )
* Поле "Год": 2 символа, только цифры. Значение не должно быть меньше значения текущего года
* Поле "Владелец": только буквы латинского алфавита
* Поле "CVC/CVV": 3 символа, только цифры

### Тестовые данные:

Для тестирования предоставлены следующие тестовые данные:

* Банковская карта (далее "карта"), для оплаты с номером "4444 4444 4444 4441", статус "APPROVED"
* Банковская карта (далее "карта"), для оплаты с номером "4444 4444 4444 4442", статус "DECLINED"

### Перечень автоматизируемых сценариев:

#### Позитивные сценарии:
1. Пользователь вводит валидные данные, выбирая оплату по дебетовой карте, операция проходит без отказа
2. Пользователь вводит валидные данные, выбирая покупку с использованием кредита, операция проходит без отказа
3. Пользователь вводит валидные данные, выбирает оплату по дебетовой карте, на карте при этом недостаточно средств для выполнения операции - происходит отказ в операции
4. Пользователь вводит валидные данные, выбирая оплату по кредитной карте - происходит отказ в выполнении операции.



#### Негативные сценарии:
1. Пользователь выбирает покупку с оплатой по дебетовой карте, заполняет невалидными данными поля
2. Пользователь выбирает покупку с оплатой с помощью кредитной карты, заполняет невалидными данными поля

В рамках негативных сценариев проверяем, что:
* появляются подсказки о том, что поле неверно заполнено
* приложение не передает форму с невалидными данными в платежный сервис, соответственно, платеж не проходит
* отдельно проверим каждое поле, заполнив его данными в неверном формате
* 2 варианта неполного номера карты - 15 знаков и 1 знак
* неверный формат номера месяца
* неверный формат года
* ввод цифр в поле имя пользователя
* ввод пустого поля имя пользователя.



### Перечень используемых инструментов с обоснованием выбора
* Java 11 – один из самых популярных языков программирования.
* IntelliJ IDEA Community edition - интегрированная среда разработки для создания проекта с авто-тестами.
* Gradle - система для автоматической сборки проекта и подключения необходимых плагинов и зависимостей.
* JUnit - библиотека объектов для модульного тестирования.
* Faker - библиотека для генерации тестовых данных.
* Selenide - фреймворк для автоматизированного тестирования веб-приложения.
* Docker - платформа для работы с тестируемым приложением, СУБД и симулятором банковских сервисов.
* Allure - фреймворк для генерации подробных отчётов о результатах тестирования.
* GIT -системы управления версиями проекта.
* Git Hub - онлайн-сервис, позволяющий хранить код в удаленном публичном репозитории.

## Перечень и описание возможных рисков при автоматизации
* Отсутствие документации и ТЗ приводит к формированию ожидаемого результата на основании здравого смысла и анализа
  подобных банковских приложений, что может оказаться ошибочным.
* Использование захардкоженных данных может привести к необнаружению ошибок при работе реального пользователя с сервисом.
* Cложность настройки окружения. Для работы приложения нужно, помимо двух разных баз данных (MySQL, PostgreSQL), 
  развернуть симулятор платежной системы. Нужно разобраться с тем как он работает, 
  как взаимодействует с нашими БД и ОС. 
  Поэтому в ходе настройки окружения могут возникнуть сложности, требующие дополнительных временных затрат.
* Могут возникнуть сложности с поиском элементов на странице (неуникальные идентификаторы).
* Комплексный подход к тестированию. На занатиях мы тестировали, в основном, какие-то определенные функциональности, 
  в данном случае нужно протестировать приложение комплексно, при этом в приложении много багов. 
  Потребуется больше времени на дополнительные проверки и оформление баг-репортов.


### Интервальная оценка с учётом рисков
* Написание тест-плана автоматизации: 4 часа
* Подготовка окружения, написание авто-тестов: 6 часов
* Написание отчета по итогам тестирования, оформление issues: 8 часов
* Подготовка отчета по итогом автоматизации: 3 часа
### План сдачи работ
* Написание тест-плана автоматизации: 10.06.2021
* Подготовка окружения, написание авто-тестов: 15.06.2021
* Написание отчета по итогам тестирования, оформление issues: 20.06.2021
* Написание отчета по итогам  автоматизации: 23.06.2021
